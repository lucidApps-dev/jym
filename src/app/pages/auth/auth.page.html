<ion-content class="flex flex-col h-full relative">

  <div class="w-full overflow-hidden pt-10 bg-default" style="height: calc(100vh - 99px - env(safe-area-inset-bottom));">
    <jym-carousel
      [images]="carouselImages()"
      [autoplayInterval]="5000"
      height="100%"
    ></jym-carousel>
  </div>

  <div class="fixed bottom-0 left-0 right-0 p-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))] bg-default">
    <div class="w-full w-full flex flex-row gap-4">
      <jym-button mode="transparent" icon="chevron-forward-outline" (click)="openLoginModal()">
        {{ 'auth.login' | translate }}
      </jym-button>

      <jym-button mode="primary" icon="chevron-forward-outline" (click)="openRegisterModal()">
        {{ 'auth.register' | translate }}
      </jym-button>
    </div>
  </div>

  <ion-modal [isOpen]="isLoginModalOpen()" (willDismiss)="closeLoginModal()">
    <ng-template>
      <div class="flex flex-row justify-end items-center">
        <ion-buttons>
          <ion-button (click)="closeLoginModal()">
            <ion-icon name="close" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-buttons>
      </div>
      <ion-content>
        <jym-auth-form
          mode="login"
          (authSuccess)="onAuthSuccess()"
          (openResetPassword)="openResetPasswordModal()"
        ></jym-auth-form>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal [isOpen]="isRegisterModalOpen()" (willDismiss)="closeRegisterModal()">
    <ng-template>
      <div class="flex flex-row justify-end items-center">
        <ion-buttons>
          <ion-button (click)="closeRegisterModal()">
            <ion-icon name="close" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-buttons>
      </div>
      <ion-content>
        <jym-auth-form
          mode="register"
          (authSuccess)="onAuthSuccess()"
        ></jym-auth-form>
      </ion-content>
    </ng-template>
  </ion-modal>

  <ion-modal [isOpen]="isResetPasswordModalOpen()" (willDismiss)="closeResetPasswordModal()">
    <ng-template>
      <div class="flex flex-row justify-end items-center">
        <ion-buttons>
          <ion-button (click)="closeResetPasswordModal()">
            <ion-icon name="close" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-buttons>
      </div>
      <ion-content>
        <jym-reset-password-form></jym-reset-password-form>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>

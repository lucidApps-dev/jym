<div class="reset-password-form-container">

  <div class="reset-password-form-content">
    <h2 class="text-2xl font-bold">{{ 'auth.resetPassword' | translate }}</h2>
    <p class="text-sm text-gray-600 mb-4">{{ 'auth.resetPasswordDescription' | translate }}</p>

    <form id="reset-password-form" [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
      <ion-item>
        <ion-label position="stacked" for="reset-email">{{ 'auth.email' | translate }}</ion-label>
        <ion-input
          id="reset-email"
          type="email"
          formControlName="email"
          [attr.aria-describedby]="emailErrorKey ? 'reset-email-error' : null"
          [attr.aria-invalid]="resetPasswordForm.controls.email.invalid && resetPasswordForm.controls.email.touched"
          [attr.aria-required]="true"
        ></ion-input>
      </ion-item>
      <jym-form-error
        [errorKey]="emailErrorKey"
        errorId="reset-email-error"
        ariaLive="polite"
        cssClass="text-sm"
      ></jym-form-error>

      <jym-form-error
        [errorKey]="errorMessage()"
        errorId="reset-password-form-error"
        ariaLive="assertive"
        cssClass="text-sm"
      ></jym-form-error>

      @if (successMessage()) {
        <div class="success-message">
          <ion-text color="success">
            <p
              id="reset-password-success"
              class="text-sm"
              role="alert"
              aria-live="polite"
            >{{ successMessage()! | translate }}</p>
          </ion-text>
        </div>
      }
    </form>
  </div>
  
  <div class="reset-password-form-footer">
    <jym-button
      mode="primary"
      [disabled]="resetPasswordForm.invalid || isLoading()"
      type="submit"
      form="reset-password-form"
      icon="chevron-forward-outline"
      [isLoading]="isLoading()"
      (click)="onSubmit()"
      [attr.aria-label]="'auth.reset' | translate"
    >{{ 'auth.reset' | translate }}</jym-button>
  </div>
  
</div>

